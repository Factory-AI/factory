---
title: "Model Context Protocol"
description: "Manage MCP servers and configurations in droid CLI"
---

The `/mcp` command provides comprehensive management of MCP servers within Factory CLI, allowing you to configure, monitor, and maintain Model Context Protocol server connections.

<Note>
    Factory CLI supports both **stdio-based** and **Streamable HTTP** MCP servers, allowing you to
    connect to local processes or remote MCP endpoints.
</Note>

## Overview

MCP (Model Context Protocol) servers extend Factory's capabilities by providing additional tools and context. The `/mcp` command lets you:

-   List all configured MCP servers and their status
-   Add new MCP servers to your configuration
-   Remove existing servers
-   View detailed information about specific servers

## Usage

```bash
/mcp [options] [command]
```

### Global Options

| Option       | Description              |
| ------------ | ------------------------ |
| `-h, --help` | Display help for command |

### Available Commands

| Command                       | Description                                  |
| ----------------------------- | -------------------------------------------- |
| `list`                        | List configured MCP servers and their status |
| `add <name> <command-or-url>` | Add a new MCP server to the configuration    |
| `remove <name>`               | Remove an MCP server from the configuration  |
| `get <name>`                  | Show details about a specific MCP server     |
| `help [command]`              | Display help for a specific command          |

<Note>If no command is specified, `/mcp` defaults to the `list` command.</Note>

## Commands

### list

Lists all configured MCP servers and displays their current status.

```bash
/mcp list [options]
```

**Options:**

-   `-h, --help` - Display help for the list command

**Example:**

```bash
/mcp list
```

### add

Adds a new MCP server to your configuration. Factory CLI supports two types of MCP servers: stdio (local processes) and Streamable HTTP (remote endpoints).

#### Adding stdio servers

Stdio servers run as local processes and communicate via standard input/output streams.

```bash
/mcp add <name> <command> [options]
```

**Arguments:**

-   `name` - Server name (used as identifier)
-   `command` - Command to start the server

**Options:**

-   `-e, --env <key=value...>` - Environment variables (stdio only, can be used multiple times)
-   `-h, --help` - Display help for the add command

**Examples:**

Add a basic stdio server:

```bash
/mcp add myserver "node /path/to/server.js"
```

Add a stdio server with environment variables:

```bash
/mcp add myserver "python server.py" -e API_KEY=secret123 -e DEBUG=true
```

#### Adding Streamable HTTP servers

Streamable HTTP servers are remote MCP endpoints accessed via HTTP/HTTPS URLs.

```bash
/mcp add --type http <name> <url> [options]
```

**Arguments:**

-   `name` - Server name (used as identifier)
-   `url` - HTTP/HTTPS URL of the MCP server endpoint

**Options:**

-   `-H, --header <key: value...>` - HTTP headers (http only, can be used multiple times)
-   `-h, --help` - Display help for the add command

**Examples:**

Add a basic HTTP server:

```bash
/mcp add myserver https://api.example.com/mcp --type http
```

Add an HTTP server with authentication header:

```bash
/mcp add myserver https://api.example.com/mcp --type http -H "Authorization: Bearer token123"
```

Add an HTTP server with multiple headers:

```bash
/mcp add myserver https://api.example.com/mcp --type http -H "Authorization: Bearer token" -H "X-API-Key: secret"
```

### remove

Removes an MCP server from the configuration.

```bash
/mcp remove [options] <name>
```

**Arguments:**

-   `name` - Server name to remove

**Options:**

-   `-h, --help` - Display help for the remove command

**Example:**

```bash
/mcp remove myserver
```

### get

Shows detailed information about a specific MCP server.

```bash
/mcp get [options] <name>
```

**Arguments:**

-   `name` - Server name to get details for

**Options:**

-   `-h, --help` - Display help for the get command

**Example:**

```bash
/mcp get myserver
```

## Getting Help

You can get help for the `/mcp` command and its subcommands in several ways:

-   `/mcp --help` or `/mcp -h` - Show general help
-   `/mcp help` - Show general help
-   `/mcp help <command>` - Show help for a specific command
-   `/mcp <command> --help` - Show help for a specific command

**Examples:**

```bash
/mcp --help
/mcp help add
/mcp add --help
```

## Configuration

MCP server configurations are stored in a configuration file managed by Factory CLI. Each server configuration includes:

-   **Name**: Unique identifier for the server
-   **Type**: Server type (stdio or http)
-   **Type-specific settings**: Command/args/env for stdio, URL/headers for http
-   **Disabled**: Optional flag to temporarily disable a server

## Transport Types

Factory CLI supports two transport methods for MCP servers:

### Stdio Transport

The stdio transport method runs MCP servers as local processes:

-   Communication happens over standard input/output streams
-   Servers must implement the MCP protocol over stdin/stdout
-   Most common transport method for MCP servers
-   No network configuration or ports are required
-   Best for: Local tools, file system operations, development servers

### Streamable HTTP Transport

The Streamable HTTP transport method connects to remote MCP servers over HTTP/HTTPS:

-   Communication happens via HTTP requests with streaming responses
-   Servers are accessed via URL endpoints
-   Supports authentication via custom headers
-   No local process management needed
-   Best for: Cloud-hosted MCP servers, shared team resources, documentation servers

## Environment Variables

When adding servers, you can specify environment variables using the `-e` or `--env` flag:

```bash
/mcp add myserver "node server.js" -e NODE_ENV=production -e PORT=3000 -e API_URL=https://api.example.com
```

Environment variables must be in `KEY=VALUE` format. If a value contains an equals sign, everything after the first `=` is treated as the value.

## Error Handling

The `/mcp` command provides clear error messages for common issues:

-   **Invalid environment variable format**: Check that variables use `KEY=VALUE` format
-   **Invalid header format**: Check that headers use `KEY: VALUE` format (note the colon and space)
-   **Server already exists**: Use a different name or remove the existing server first
-   **Invalid server type**: Must be "stdio" or "http"
-   **Wrong options for server type**: `--env` is only for stdio servers, `--header` is only for HTTP servers
-   **Invalid URL format**: For HTTP servers, provide a valid HTTP/HTTPS URL
-   **Unknown command**: Use `/mcp --help` to see available commands
-   **Missing arguments**: Ensure all required arguments are provided

## Examples

Here are some common usage patterns:

**List all servers:**

```bash
/mcp
# or
/mcp list
```

**Add a Node.js MCP server:**

```bash
/mcp add nodejs-server "node /path/to/mcp-server.js"
```

**Add a Python server with environment variables:**

```bash
/mcp add python-server "python /path/to/server.py" -e DEBUG=1 -e CONFIG_PATH=/etc/config
```

**Add Factory documentation MCP server (Streamable HTTP):**

```bash
/mcp add --type http factory-docs https://docs.factory.ai/mcp
```

**Add GitHub MCP server with authentication (Streamable HTTP):**

```bash
/mcp add --type http github https://mcp.githubcopilot.com -H "Authorization: Bearer YOUR_GITHUB_TOKEN"
```

**View server details:**

```bash
/mcp get nodejs-server
```

**Remove a server:**

```bash
/mcp remove nodejs-server
```

**Get help for a specific command:**

```bash
/mcp help add
```

<Tip>
    MCP servers extend Factory's capabilities by providing additional tools and context. Use stdio
    servers for local tools and processes, or Streamable HTTP servers to connect to remote MCP
    endpoints like documentation servers and shared team resources.
</Tip>
