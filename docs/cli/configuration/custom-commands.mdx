---
title: Setup Script
description: Configure a custom setup script that runs during workspace initialization to prepare your development environment.
---

The setup script allows you to define custom initialization commands that run automatically when creating or rebuilding a workspace. This script executes after repository cloning and before workspace activation, running on an Ubuntu base image.

---

## 1 路 Configuring the setup script

The setup script can be configured when creating or editing a workspace through the Factory web interface. Navigate to your workspace settings and add your script in the **Setup Script** section.

### Script execution environment

- **Base image:** Ubuntu
- **Timing:** Runs after repository cloning, before workspace activation
- **Working directory:** Repository root
- **Shell:** Bash (or specify your own with a shebang)

### Best practices

- Write idempotent scripts that are safe to rerun
- Use `set -euo pipefail` for better error handling
- Reference environment variables for configuration
- Keep the script focused on essential setup tasks
- Document any prerequisites or dependencies

---

## 2 路 Example setup scripts

### Basic dependency installation

```bash
#!/usr/bin/env bash
set -euo pipefail

# Install project dependencies
npm install

# Run any build steps
npm run build

echo "Setup complete"
```

### Multi-language project

```bash
#!/usr/bin/env bash
set -euo pipefail

# Install Node.js dependencies
npm install

# Install Python dependencies
pip install -r requirements.txt

# Set up pre-commit hooks
pre-commit install

echo "Development environment ready"
```

### Advanced setup with conditional logic

```bash
#!/usr/bin/env bash
set -euo pipefail

# Install dependencies based on project structure
if [ -f "package.json" ]; then
  echo "Installing Node.js dependencies..."
  npm install
fi

if [ -f "requirements.txt" ]; then
  echo "Installing Python dependencies..."
  pip install -r requirements.txt
fi

# Run database migrations if needed
if [ -d "migrations" ]; then
  echo "Running database migrations..."
  npm run migrate
fi

# Build the project
npm run build

echo "Workspace setup complete"
```

---

## 3 路 Usage patterns

- **Version control:** Store your setup script configuration in your workspace settings so all team members use the same initialization process
- **Environment variables:** Use workspace-level environment variables for sensitive configuration like API keys or credentials
- **Build automation:** Include compilation, linting, and test setup in your script to ensure a consistent development environment
- **Tool installation:** Install additional tools or dependencies that aren't part of the base Ubuntu image

---

## 4 路 Troubleshooting

### Build failures

If your setup script fails during workspace creation or rebuild:

- Check the build logs in the workspace settings for specific error messages
- Verify that all commands are available in the Ubuntu base image
- Ensure file paths are correct relative to the repository root
- Test your script locally in a clean Ubuntu environment

### Script updates

When you update the setup script:

- Changes trigger an automatic workspace rebuild
- The rebuild process runs with the updated script
- Workspace build status updates to reflect progress or failures
